<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°ch H√†ng - B·∫£o H√†o Restaurant</title>
    <style>
        :root {
            --primary: #1a1a1a;
            --accent: #d4af37;
            --accent-dark: #b8962e;
            --bg: #faf8f3;
            --text: #2c2c2c;
            --text-light: #666;
            --border: #e5dcc9;
            --error: #c73e1d;
            --success: #2d7d46;
            --warning: #d97706;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        .header {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo h1 {
            font-family: 'Times New Roman', Times, serif;
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: 2px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .btn-logout {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 2px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            background: var(--accent);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 30px;
        }

        .section {
            background: white;
            border-radius: 2px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .section-title {
            font-family: 'Times New Roman', Times, serif;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .section-subtitle {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 30px;
        }

        /* Floor Filters - gi·ªëng menu filters */
        .floor-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .floor-filter-btn {
            padding: 12px 24px;
            background: white;
            border: 2px solid var(--border);
            border-radius: 2px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .floor-filter-btn:hover, .floor-filter-btn.active {
            border-color: var(--accent);
            background: rgba(212, 175, 55, 0.05);
            color: var(--accent-dark);
        }

        /* Table Grid - gi·ªëng menu grid */
        .tables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 25px;
        }

        .table-card {
            border: 2px solid var(--border);
            border-radius: 2px;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
            cursor: pointer;
        }

        .table-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .table-card.selected {
            border-color: var(--accent);
            background: rgba(212, 175, 55, 0.05);
        }

        .table-card-header {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, #f5f0e5 0%, #e5dcc9 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .table-card-header .table-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .table-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 6px 12px;
            background: var(--success);
            color: white;
            border-radius: 2px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .table-card-content {
            padding: 20px;
        }

        .table-name {
            font-family: 'Times New Roman', Times, serif;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .table-info {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .table-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-location {
            font-size: 12px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .select-indicator {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .table-card.selected .select-indicator {
            background: var(--accent);
            border-color: var(--accent);
        }

        .table-card.selected .select-indicator::after {
            content: '‚úì';
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        /* Current Booking */
        .current-booking {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
            border-left: 4px solid var(--accent);
            padding: 25px;
            border-radius: 2px;
            margin-bottom: 30px;
        }

        .booking-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .booking-detail label {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-light);
            display: block;
            margin-bottom: 5px;
        }

        .booking-detail span {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary);
        }

        /* Menu */
        .menu-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            background: white;
            border: 2px solid var(--border);
            border-radius: 2px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: var(--accent);
            background: rgba(212, 175, 55, 0.05);
            color: var(--accent-dark);
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .menu-item {
            border: 1px solid var(--border);
            border-radius: 2px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .menu-item-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f5f0e5 0%, #e5dcc9 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
        }

        .menu-item-content {
            padding: 20px;
        }

        .menu-item-name {
            font-family: 'Times New Roman', Times, serif;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .menu-item-desc {
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .menu-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-item-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent-dark);
        }

        .btn-add {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 2px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-add:hover {
            background: var(--accent);
        }

        /* Cart */
        .cart-items {
            margin-bottom: 25px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border: 1px solid var(--border);
            border-radius: 2px;
            margin-bottom: 15px;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid var(--border);
            background: white;
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            border-color: var(--accent);
            background: rgba(212, 175, 55, 0.1);
        }

        .btn-remove {
            padding: 8px 16px;
            background: var(--error);
            color: white;
            border: none;
            border-radius: 2px;
            font-size: 12px;
            cursor: pointer;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            padding: 25px;
            background: rgba(212, 175, 55, 0.05);
            border-radius: 2px;
            margin-bottom: 25px;
        }

        .cart-total span:last-child {
            font-size: 28px;
            font-weight: 700;
            color: var(--accent-dark);
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 2px;
            font-size: 15px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .alert {
            padding: 16px 20px;
            border-radius: 2px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.show { display: block; }
        .alert.error { background: #fef2f2; border-left: 4px solid var(--error); color: var(--error); }
        .alert.success { background: #f0fdf4; border-left: 4px solid var(--success); color: var(--success); }

        .hidden { display: none !important; }

        #cart-notice {
            background: rgba(217, 119, 6, 0.1);
            border-left: 3px solid var(--warning);
            padding: 12px 16px;
            border-radius: 2px;
            color: var(--warning);
            font-weight: 600;
            margin-bottom: 20px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo"><h1>B·∫¢O H√ÄO</h1></div>
            <div class="user-info">
                <span id="user-name"></span>
                <button class="btn-logout" onclick="logout()">ƒêƒÉng Xu·∫•t</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="alert" id="alert"></div>

        <!-- Booking Section -->
        <div class="section" id="booking-section">
            <h2 class="section-title">Ch·ªçn B√†n</h2>
            <p class="section-subtitle">Ch·ªçn t·∫ßng v√† b√†n b·∫°n mu·ªën ng·ªìi</p>

            <!-- Floor Filters -->
            <div class="floor-filters">
                <button class="floor-filter-btn active" onclick="filterTables(null)">T·∫•t C·∫£</button>
                <button class="floor-filter-btn" onclick="filterTables('T·∫ßng 1')">T·∫ßng 1</button>
                <button class="floor-filter-btn" onclick="filterTables('T·∫ßng 2')">T·∫ßng 2</button>
                <button class="floor-filter-btn" onclick="filterTables('T·∫ßng 3')">T·∫ßng 3</button>
            </div>

            <!-- Tables Grid -->
            <div class="tables-grid" id="tables-grid"></div>

            <!-- Book Button -->
            <button class="btn-primary" id="btn-book" onclick="confirmBooking()" disabled style="margin-top: 30px;">
                ƒê·∫∑t B√†n
            </button>
        </div>

        <!-- Current Booking -->
        <div class="section hidden" id="current-booking-section">
            <h2 class="section-title">B√†n Hi·ªán T·∫°i</h2>
            <div class="current-booking">
                <div class="booking-info" id="booking-info"></div>
            </div>
            <button class="btn-primary" onclick="checkout()" style="background: var(--success);">Thanh To√°n</button>
        </div>

        <!-- Menu Section -->
        <div class="section" id="menu-section">
            <h2 class="section-title">Th·ª±c ƒê∆°n</h2>
            <p class="section-subtitle">Ch·ªçn m√≥n b·∫°n mu·ªën g·ªçi</p>
            <div class="menu-grid" id="menu-grid"></div>
        </div>

        <!-- Cart Section -->
        <div class="section" id="cart-section">
            <h2 class="section-title">Gi·ªè H√†ng</h2>
            <p class="section-subtitle" id="cart-notice">Vui l√≤ng ƒë·∫∑t b√†n tr∆∞·ªõc khi g·ªçi m√≥n</p>
            <div class="cart-items" id="cart-items"></div>
            <div class="cart-total">
                <span>T·ªïng C·ªông:</span>
                <span id="cart-total">0 ‚Ç´</span>
            </div>
            <button class="btn-primary" id="btn-order" onclick="submitOrder()" disabled>G·ªçi M√≥n</button>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000/api';
        let token = localStorage.getItem('token');
        let user = JSON.parse(localStorage.getItem('user') || 'null');
        let allTables = [];
        let selectedTableId = null;
        let currentBooking = null;
        let menuItems = [];
        let cart = [];

        if (!token || !user) window.location.href = 'index.html';
        document.getElementById('user-name').textContent = user.ho_ten;

        function logout() {
            localStorage.clear();
            window.location.href = 'index.html';
        }

        function showAlert(message, type = 'error') {
            const alert = document.getElementById('alert');
            alert.textContent = message;
            alert.className = `alert ${type} show`;
            setTimeout(() => alert.classList.remove('show'), 5000);
        }

        // Load all available tables
        async function loadAvailableTables() {
            try {
                const response = await fetch(`${API_URL}/ban/available`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                const result = await response.json();

                if (response.ok && result.success) {
                    allTables = result.data;
                    displayTables(allTables);
                } else {
                    showAlert('Kh√¥ng th·ªÉ t·∫£i danh s√°ch b√†n');
                }
            } catch (error) {
                showAlert('L·ªói k·∫øt n·ªëi server');
                console.error(error);
            }
        }

        // Display tables
        function displayTables(tables) {
            const grid = document.getElementById('tables-grid');

            if (tables.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-state-icon">ü™ë</div>
                        <p>Kh√¥ng c√≥ b√†n tr·ªëng</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = tables.map(table => {
                const imageUrl = table.hinh_anh || 'image/tables/default.jpg';
                return `
                    <div class="table-card ${selectedTableId === table.ban_id ? 'selected' : ''}" 
                         onclick="selectTable(${table.ban_id})">
                        <div class="table-card-header" style="background-image: url('${imageUrl}'); background-size: cover; background-position: center;">
                            <span class="table-badge">Tr·ªëng</span>
                        </div>
                        <div class="table-card-content">
                            <h3 class="table-name">${table.so_ban}</h3>
                            <p class="table-info">${table.so_ghe} gh·∫ø${table.mo_ta ? ' ‚Ä¢ ' + table.mo_ta : ''}</p>
                            <div class="table-footer">
                                <span class="table-location">${table.vi_tri}</span>
                                <div class="select-indicator"></div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Filter tables by floor
        function filterTables(floor) {
            document.querySelectorAll('.floor-filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const filtered = floor ? allTables.filter(t => t.vi_tri === floor) : allTables;
            displayTables(filtered);

            // Reset selection if filtered out
            if (selectedTableId && !filtered.find(t => t.ban_id === selectedTableId)) {
                selectedTableId = null;
                document.getElementById('btn-book').disabled = true;
            }
        }

        // Select table
        function selectTable(tableId) {
            selectedTableId = tableId;
            
            // Update UI
            document.querySelectorAll('.table-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.table-card').classList.add('selected');
            
            document.getElementById('btn-book').disabled = false;
        }

        // Confirm booking
        async function confirmBooking() {
            if (!selectedTableId) {
                showAlert('Vui l√≤ng ch·ªçn b√†n');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/dat-ban`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ ban_an_id: selectedTableId })
                });

                const result = await response.json();

                if (response.ok) {
                    showAlert(`ƒê·∫∑t b√†n th√†nh c√¥ng! B√†n: ${result.assigned_table}`, 'success');
                    selectedTableId = null;
                    await loadCurrentBooking();
                    await loadAvailableTables(); // Refresh table list
                } else {
                    showAlert(result.message || 'ƒê·∫∑t b√†n th·∫•t b·∫°i');
                    // Reload tables in case the table was just taken
                    await loadAvailableTables();
                }
            } catch (error) {
                showAlert('L·ªói k·∫øt n·ªëi server');
                console.error(error);
            }
        }

        // Load current booking
        async function loadCurrentBooking() {
            try {
                const response = await fetch(`${API_URL}/dat-ban/my`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const result = await response.json();
                    currentBooking = result.booking;
                    
                    document.getElementById('booking-section').classList.add('hidden');
                    document.getElementById('current-booking-section').classList.remove('hidden');
                    document.getElementById('btn-order').disabled = false;
                    document.getElementById('cart-notice').style.display = 'none';

                    document.getElementById('booking-info').innerHTML = `
                        <div class="booking-detail">
                            <label>S·ªë B√†n</label>
                            <span>${currentBooking.so_ban}</span>
                        </div>
                        <div class="booking-detail">
                            <label>V·ªã Tr√≠</label>
                            <span>${currentBooking.vi_tri}</span>
                        </div>
                        <div class="booking-detail">
                            <label>T·ªïng Ti·ªÅn</label>
                            <span>${formatPrice(currentBooking.total_price || 0)}</span>
                        </div>
                    `;
                } else {
                    document.getElementById('booking-section').classList.remove('hidden');
                    document.getElementById('current-booking-section').classList.add('hidden');
                    document.getElementById('btn-order').disabled = true;
                    document.getElementById('cart-notice').style.display = 'block';
                }
            } catch (error) {
                console.error(error);
            }
        }

        // Load menu
        async function loadMenu() {
            try {
                const response = await fetch(`${API_URL}/thuc-don`);
                const result = await response.json();
                
                // Lo·∫°i b·ªè m√≥n tr√πng (gi·ªØ m√≥n c√≥ ID nh·ªè nh·∫•t)
                const uniqueItems = [];
                const seenNames = new Set();
                
                result.items.forEach(item => {
                    if (!seenNames.has(item.ten_mon)) {
                        seenNames.add(item.ten_mon);
                        uniqueItems.push(item);
                    }
                });
                
                menuItems = uniqueItems;
                displayMenu(menuItems);
            } catch (error) {
                console.error('Error loading menu:', error);
            }
        }

        function displayMenu(items) {
            document.getElementById('menu-grid').innerHTML = items.map(item => {
                const imageUrl = item.hinh_anh || 'image/menu/default.jpg';
                return `
                    <div class="menu-item">
                        <div class="menu-item-image" style="background-image: url('${imageUrl}'); background-size: cover; background-position: center;"></div>
                        <div class="menu-item-content">
                            <h3 class="menu-item-name">${item.ten_mon}</h3>
                            <p class="menu-item-desc">${item.mo_ta || 'M√≥n ƒÉn ngon'}</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">${formatPrice(item.gia)}</span>
                                <button class="btn-add" onclick="addToCart(${item.id})">Th√™m</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function addToCart(itemId) {
            const item = menuItems.find(m => m.id === itemId);
            const existing = cart.find(c => c.mon_an_id === itemId);
            if (existing) {
                existing.so_luong++;
            } else {
                cart.push({ mon_an_id: itemId, ten_mon: item.ten_mon, gia: item.gia, so_luong: 1 });
            }
            updateCart();
            showAlert('ƒê√£ th√™m v√†o gi·ªè h√†ng', 'success');
        }

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');

            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: var(--text-light);">Gi·ªè h√†ng tr·ªëng</p>';
                cartTotal.textContent = '0 ‚Ç´';
                return;
            }

            cartItems.innerHTML = cart.map((item, i) => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <h4>${item.ten_mon}</h4>
                        <p>${formatPrice(item.gia)} x ${item.so_luong}</p>
                    </div>
                    <div class="cart-item-controls">
                        <div class="quantity-control">
                            <button class="quantity-btn" onclick="updateQuantity(${i}, -1)">-</button>
                            <span>${item.so_luong}</span>
                            <button class="quantity-btn" onclick="updateQuantity(${i}, 1)">+</button>
                        </div>
                        <button class="btn-remove" onclick="removeFromCart(${i})">X√≥a</button>
                    </div>
                </div>
            `).join('');

            cartTotal.textContent = formatPrice(cart.reduce((sum, item) => sum + (item.gia * item.so_luong), 0));
        }

        function updateQuantity(index, change) {
            cart[index].so_luong += change;
            if (cart[index].so_luong <= 0) cart.splice(index, 1);
            updateCart();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        async function submitOrder() {
            if (!cart.length) return showAlert('Gi·ªè h√†ng tr·ªëng');
            if (!currentBooking) return showAlert('Vui l√≤ng ƒë·∫∑t b√†n tr∆∞·ªõc');

            try {
                const response = await fetch(`${API_URL}/goi-mon`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ dat_ban_id: currentBooking.id, items: cart })
                });

                const result = await response.json();
                if (response.ok) {
                    showAlert('G·ªçi m√≥n th√†nh c√¥ng!', 'success');
                    cart = [];
                    updateCart();
                    await loadCurrentBooking();
                } else {
                    showAlert(result.message || 'G·ªçi m√≥n th·∫•t b·∫°i');
                }
            } catch (error) {
                showAlert('L·ªói k·∫øt n·ªëi server');
            }
        }

        async function checkout() {
            if (!currentBooking || !confirm('B·∫°n c√≥ ch·∫Øc mu·ªën thanh to√°n?')) return;

            try {
                const response = await fetch(`${API_URL}/dat-ban/checkout`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ dat_ban_id: currentBooking.id })
                });

                const result = await response.json();
                if (response.ok) {
                    showAlert(`Thanh to√°n th√†nh c√¥ng! T·ªïng: ${formatPrice(result.total_price)}`, 'success');
                    setTimeout(() => location.reload(), 2000);
                } else {
                    showAlert(result.message || 'Thanh to√°n th·∫•t b·∫°i');
                }
            } catch (error) {
                showAlert('L·ªói k·∫øt n·ªëi server');
            }
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price);
        }

        // Initialize
        loadCurrentBooking();
        loadAvailableTables();
        loadMenu();
    </script>
</body>
</html>
